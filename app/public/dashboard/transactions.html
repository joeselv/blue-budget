<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BlueBudget - Transactions</title>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,200,0..1,0" rel="stylesheet" />
    <link rel="stylesheet" href="styles.css"> 
</head>
<body>
    <div class="sidebar">
        <div class="logo">
            <img src="../../resources/blueBudgetLogo.svg" alt="BlueBudget Logo" class="logo-img">
            BlueBudget
        </div>

        <a href="budget" id="budget" class="menu-item">
            <span class="material-symbols-rounded">savings</span>
            <span>Budget</span>
        </a>
        <a href="transactions" id="transactions" class="menu-item selected">
            <span class="material-symbols-rounded">receipt_long</span>
            <span>Transactions</span>
        </a>
        <a href="accounts" id="accounts" class="menu-item">
            <span class="material-symbols-rounded">person</span>
            <span>Accounts</span>
        </a>
        <a href="settings" id="settings" class="menu-item">
            <span class="material-symbols-rounded">settings</span>
            <span>Settings</span>
        </a>
    </div>

    <div class="main-container">
        <div class="header">
            <p class="page-title">Transactions</p>
            <button id="logout-btn" class="logout-btn">Log Out</button>
        </div>

        <div class="content">
            <div class="main-content">
                <div class="actions-bar">
                    <input type="text" id="searchBar" placeholder="Search Transactions...">
                    <button class="edit-category-btn" onclick="openPopup()">Add Transaction</button>
                </div>
                <table class="transactions-table">
                    <thead>
                        <tr>
                            <th data-column="transactionid" data-type="number">
                                Transaction ID
                                <span class="arrows">
                                    <span class="arrow asc-arrow">▲</span>
                                    <span class="arrow desc-arrow">▼</span>
                                </span>
                            </th>
                            <th data-column="accounttype" data-type="text">
                                Account Type
                                <span class="arrows">
                                    <span class="arrow asc-arrow">▲</span>
                                    <span class="arrow desc-arrow">▼</span>
                                </span>
                            </th>
                            <th data-column="categorytype" data-type="text">
                                Category Type
                                <span class="arrows">
                                    <span class="arrow asc-arrow">▲</span>
                                    <span class="arrow desc-arrow">▼</span>
                                </span>
                            </th>
                            <th data-column="transactiondate" data-type="date">
                                Transaction Date
                                <span class="arrows">
                                    <span class="arrow asc-arrow">▲</span>
                                    <span class="arrow desc-arrow">▼</span>
                                </span>
                            </th>
                            <th data-column="amount" data-type="number">
                                Amount
                                <span class="arrows">
                                    <span class="arrow asc-arrow">▲</span>
                                    <span class="arrow desc-arrow">▼</span>
                                </span>
                            </th>
                            <th data-column="transactiontype" data-type="text">
                                Transaction Type
                                <span class="arrows">
                                    <span class="arrow asc-arrow">▲</span>
                                    <span class="arrow desc-arrow">▼</span>
                                </span>
                            </th>
                            <th data-column="transactiondescription" data-type="text">
                                Transaction Description
                                <span class="arrows">
                                    <span class="arrow asc-arrow">▲</span>
                                    <span class="arrow desc-arrow">▼</span>
                                </span>
                            </th>
                        </tr>
                    </thead>
                    <tbody id="transactionsTableBody">
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <div class="popup-overlay" id="popup-overlay">
        <div class="popup-content">
            <h2>Add New Transaction</h2>
    
            <label for="transaction-name">Merchant Name</label>
            <input type="text" id="transaction-name" placeholder="Enter merchant name">
    
            <label for="transaction-amount">Amount</label>
            <input type="number" id="transaction-amount" placeholder="Enter amount">
    
            <label for="transaction-date">Transaction Date</label>
            <input type="date" id="transaction-date">
    
            <label for="transaction-type">Transaction Type</label>
            <select id="transaction-type">
                <option value="Expense">Expense</option>
                <option value="Income">Income</option>
            </select>
    
            <label for="transaction-description">Description</label>
            <input type="text" id="transaction-description" placeholder="Enter description">
    
            <label for="transaction-category">Category</label>
            <select id="transaction-category">
                <option value="">Loading...</option>
            </select>
    
            <div class="popup-buttons">
                <button onclick="closePopup()">Cancel</button>
                <button onclick="saveTransaction()" class="confirm-btn">Save</button>
            </div>
        </div>
    </div>

    <script src="dashboard/transactions.js"></script>
</body>
</html>
